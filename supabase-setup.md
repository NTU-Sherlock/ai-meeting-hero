# Supabase 設定指南

## 🚀 快速設定步驟

### 1. 建立 Supabase 專案
1. 前往 [supabase.com](https://supabase.com)
2. 註冊/登入 → "New Project"
3. 專案名稱：`ai-meeting-hero`
4. 設定密碼 → "Create new project"
5. 等待 2-3 分鐘建立完成

### 2. 建立資料表
在 Supabase Dashboard → SQL Editor，貼上這段 SQL：

```sql
-- 建立 prompts 表
CREATE TABLE prompts (
  id SERIAL PRIMARY KEY,
  title TEXT NOT NULL,
  category TEXT NOT NULL,
  author TEXT NOT NULL,
  content TEXT NOT NULL,
  output TEXT,
  copy_count INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- 插入範例資料
INSERT INTO prompts (title, category, author, content, output, copy_count) VALUES
('萬能會議煉金術指令', 'basic', '講師', '你現在的角色是一位專業的「訪談筆記助手」。\n請閱讀下方提供的逐字稿，根據以下需求產出「條理分明、重點清晰、具體可執行行動項目、問題與解答」的文章：\n\n1. 先撰寫「整體概要」，概括整個會議的主要討論議題、目標和結論。\n2. 接著撰寫「主要討論重點與分項內容」，依照不同主題或章節，以條列方式呈現。\n3. 根據討論重點，如原文有提到案例、舉例、佐證事例，請加入來增加真實度、獨特性\n4. 回顧上述內容，找出文稿中的重點金句，增加文章可信度、原創性\n5. 撰寫「行動計畫與建議」，詳列各行動項、建議、資源或工具\n6. 撰寫問與答 faq，詳列訪談中的主持人的提問，與受訪者的回答\n\n請注意：\n- 要保持條理分明、使用適當的小標題或序號。\n- 如果原文中有重複或贅詞，可酌情刪減，但保持原意。\n- 若發現衝突意見，請在紀錄裡註明不同觀點。\n- 完成後統一產出一份精簡且易於閱讀的文章。\n\n[在此貼上會議逐字稿]', '', 2),
('（進階）麥肯錫顧問會議分析', 'basic', '講師', '你現在的角色是一位專業的「會議整理與筆記助手」。\n請閱讀下方提供的逐字稿，根據以下需求產出「條理分明、重點清晰、具體可執行行動項目」的會議紀錄：\n\n1. 先撰寫「整體概要」，概括整個會議的主要討論議題、目標和結論。\n2. 接著撰寫「主要討論重點與分項內容」，依照不同主題或章節，以條列方式呈現。\n3. 你是麥肯錫顧問，針對上述會議內容，提出鞭辟入裡的分析與建議，請點出我們沒注意到的潛在關聯，以及潛在風險。請使用潛在風險矩陣 (Risk Matrix)\n風險描述：[說明風險內容]\n影響程度：[評估對專案的影響，分 高/中/低]\n發生機率：[評估發生的可能性，分 高/中/低]\n緩解措施：[提出具體可行的應對或預防策略]\n\n4. 撰寫「行動計畫與下一步」，詳列各行動項、負責人、完成期限、以及需要的資源或工具。請確保每個行動項都盡可能符合「SMART原則」，特別是使其「可衡量 (Measurable)」。例如，將「完成說明書」改為「完成說明書初稿，至少需涵蓋『開箱設定』與『核心功能操作』兩個章節」。（請不要使用表格)\n5. 關鍵待追蹤指標 (Metrics to Track)\n請列出本次會議提到、且應在下週會議中被回報的關鍵數據或指標。\n6. 最後列出下次會議議程草案 (Draft Agenda for Next Meeting)\n根據本次的討論重點與行動計畫，請為下一次的進度會議草擬 3-4 個關鍵討論議題。\n\n請注意：\n• 要保持條理分明、使用適當的小標題或序號。\n• 如果原文中有重複或贅詞，可酌情刪減，但保持原意。\n• 若發現衝突意見，請在紀錄裡註明不同觀點。\n• 完成後統一產出一份精簡且易於閱讀的報告。\n\n以下是需要整理的逐字稿（請直接在會議紀錄中歸納重點，無需原文轉貼）：\n[在此貼上會議逐字稿]', '', 5),
('會議靈感影子寫手', 'creative', '講師', '角色與核心任務\n你是一位頂尖的社群故事策略師與文案寫手。你的筆觸溫暖、真實，能從日常對話中挖掘出深刻卻不說教的洞見。你擅長將朋友間的閒聊，提煉成一篇能引發目標讀者強烈共鳴與深度思考的社群貼文，讀起來像是收到一位摯友的深夜來信，充滿啟發。\n\n你的核心任務是，將下方提供的**【閒聊逐字稿】，依據【目標讀者輪廓】**，直接轉化為一篇完整的、可直接發布於 Facebook 或 Threads 的貼文。請不要分析或提供建議，請直接產出最終內容。\n\n輸入資訊\n【閒聊逐字稿】\n[請在此貼上完整的閒聊錄音逐字稿]\n\n【目標讀者輪廓 (Target Audience)】\n是誰： [例如：一群在職涯中期感到些許迷茫，渴望在工作與生活間尋找新意義的 30-40 歲專業人士]\n他們關心什麼： [例如：個人成長、工作倦怠、尋找熱情、理想與現實的平衡]\n希望他們讀完後有什麼感受/行動： [例如：感覺被理解、獲得一個新視角、願意在留言區分享自己的困境]\n\n產出要求與流程\n請嚴格遵循以下兩步驟，完成最終貼文：\n\n第一步：洞察提煉與標題生成\n深度思考： 請先在背景 silently 思考並提煉逐字稿中 3-5 個最核心、最能觸動**【目標讀者輪廓】**的洞察或金句。\n標題發想： 基於這些洞察，提供 3-5 個吸睛的標題/破題句選項。\n格式： 使用社群貼文常見的【】符號來凸顯主題，而不是傳統文章標題。\n策略： 標題應包含好奇心鉤子、點出痛點或提供價值感。\n\n第二步：貼文全文撰寫\n選擇一個最具潛力的標題方向，將所有分析、洞察、金句，全部融入一篇流暢、有故事性的貼文中。\n\n寫作風格與結構指南 (請嚴格遵守)\n敘事口吻與視角：\n採用第一人稱「我」或「我們」的視角。\n開頭要像在跟朋友聊天，創造親密感。例如：「前幾天跟一個好久不見的朋友聊到...，這話題讓我思考了好久，想跟你分享。」\n\n故事化結構指南：\n情境帶入 (Hook)： 開頭用一個具體的生活場景或對話片段，快速將讀者帶入故事。\n衝突與轉折 (Turning Point)： 描述對話中觀點碰撞、或某個讓我們「突然愣住」、「恍然大悟」的瞬間。\n核心洞察 (The Insight)： 將提煉出的核心觀點（如：「痛苦稅」、「微退休」）作為故事高潮的「領悟」，自然地融入敘事中，而非生硬地解釋名詞。\n共鳴結尾 (Resonant Ending)： 結尾不給標準答案，而是提出一個延伸思考，將話題拋回給讀者。\n\n格式與排版：\n段落簡短，2-3 句話就換行，優化手機閱讀體驗。\n引用對話中的關鍵原話時，用「」或 粗體 標示以示強調。\n可以用【】、• 、▌、※符號在文內區隔不同的小主題或引出金句，增加閱讀節奏感。\n\n互動設計：\n文末必須包含一個真誠且開放式的問題，引導讀者分享自己的經驗或看法，創造有意義的互動。\n\n禁忌與排除事項 (非常重要)：\n避免過度腦補： 嚴格基於逐字稿的內容和語氣，不要杜撰不存在的情節或情緒。\n避免陳腔濫調： 禁用「你若安好，便是晴天」這類過時的網路心靈雞湯。\n避免說教口吻： 不要給出「你應該...」或「你必須...」的建議，保持平等的分享姿態。\n不要條列式分析： 全文應一氣呵成，不要出現 1. 2. 3. 或 bullet points。', '', 1),
('貸款會議專用', 'loan', '講師', '你現在的角色是一位專業的「銀行貸款會議記錄助手」。\n請閱讀下方提供的貸款相關會議逐字稿，根據以下需求產出專業的會議紀錄：\n\n1. 先撰寫「會議概要」，包含：\n - 會議主題（房貸/信貸/企業貸款等）\n - 參與部門與決策層級\n - 主要討論的利率、額度、風險議題\n\n2. 撰寫「關鍵決策點」，條列式呈現：\n - 利率調整幅度與時程\n - 風險控管措施\n - 客戶影響評估\n - 競爭對手分析\n\n3. 撰寫「風險評估」，包含：\n - 信用風險變化\n - 市場風險因子\n - 流動性風險考量\n - 法規合規要求\n\n4. 撰寫「行動計畫」，詳列：\n - 具體執行步驟與時程\n - 負責部門與人員\n - 監控指標與回報機制\n - 客戶溝通策略\n\n5. 撰寫「下次會議重點」：\n - 需要追蹤的數據\n - 待決議事項\n - 市場變化觀察重點\n\n請注意：\n- 使用銀行業專業術語，保持正式商務語調\n- 重點標示利率數字、百分比、金額等關鍵數據', '', 2);

-- 設定 RLS (Row Level Security) - 允許公開讀取
ALTER TABLE prompts ENABLE ROW LEVEL SECURITY;

-- 建立政策：允許所有人讀取
CREATE POLICY "Allow public read access" ON prompts FOR SELECT USING (true);

-- 建立政策：允許所有人插入
CREATE POLICY "Allow public insert" ON prompts FOR INSERT WITH CHECK (true);

-- 建立政策：允許所有人更新 copy_count
CREATE POLICY "Allow public update copy_count" ON prompts FOR UPDATE USING (true) WITH CHECK (true);
```

### 3. 取得 API 金鑰
在 Supabase Dashboard → Settings → API：
- 複製 `Project URL` (例如：`https://abcdefgh.supabase.co`)
- 複製 `anon public` key (很長的字串)

### 4. 更新網站設定
編輯 `index.html`，找到這兩行：
```javascript
const SUPABASE_URL = 'YOUR_SUPABASE_URL'; // 替換成你的 Supabase URL
const SUPABASE_ANON_KEY = 'YOUR_SUPABASE_ANON_KEY'; // 替換成你的 Supabase anon key
```

替換成你的實際值：
```javascript
const SUPABASE_URL = 'https://abcdefgh.supabase.co';
const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...';
```

### 5. 測試功能
1. 重新整理網站
2. 點擊「Prompt 範本」應該能看到資料
3. 測試「複製指令」功能
4. 測試「新增範本」功能

## 🎯 優勢對比

| 功能 | Google Sheets | Supabase |
|------|---------------|----------|
| 載入速度 | 2-5 秒 | 0.1-0.3 秒 |
| 併發處理 | 有限 | 高 |
| 資料類型 | 文字為主 | 完整 SQL |
| 免費額度 | 無限制 | 500MB + 50K 請求/月 |
| 設定複雜度 | 中等 | 簡單 |

## 🔧 故障排除

**問題：網站顯示「請先設定 Supabase」**
- 解決：確認已正確替換 `YOUR_SUPABASE_URL` 和 `YOUR_SUPABASE_ANON_KEY`

**問題：無法載入資料**
- 解決：檢查 Supabase 專案是否已建立 `prompts` 表

**問題：無法新增範本**
- 解決：確認 RLS 政策已正確設定

## 📞 需要幫助？
如果遇到問題，請檢查：
1. Supabase 專案是否正常運行
2. API 金鑰是否正確
3. 資料表是否已建立
4. 瀏覽器開發者工具中的錯誤訊息
